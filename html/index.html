<!DOCTYPE html>
<html lang="zh-cmn-Hans">

<head>
    <meta charset="utf-8">
    <title>QG library</title>
    <link rel="stylesheet" href="../css/normalize.css">
    <link rel="stylesheet" href="../css/navigation.css">
    <link rel="stylesheet" href="../css/slider.css">
    <link rel="stylesheet" href="../css/new_books_show.css">
    <link rel="stylesheet" href="../css/popular_book.css">
    <link rel="stylesheet" href="../css/person_recommend.css">
</head>

<body>
    <div id="progress"><span></span></div>
    <div class="navigation">
        <div class="inner-navigation">
            <div class="logo">
                <img src="../images/logo.png">
                <a>
                    <font>QG</font> Library</a>
            </div>
            <div class="login-state">
                <div id="logOrReg">
                    <a href="#">登录</a>|<a href="#">注册</a>
                </div>
                <div id="userInfo">
                    <img id="userHead" src="../images/avatar.png">
                    <div id="userName">QG Read</div>
                    <div class="logout" onclick="#">注销</div>
                </div>
            </div>
            <div class="search">
                <input id="search" name="search" type="text" placeholder="请输入书名、作者名或类别">
                <button class="button"></button>
            </div>
        </div>
    </div>
    <!--main container start -->
    <div class="container">
        <!-- slider start -->
        <div class="slider" id="slider">
            <div class="slide-container">
                <!--                <div class="one-screen">
                    <img src="../images/book.jpg">
                    <div class="hot-book-info">
                        <h1>旅行者的早餐</h1>
                        <span>作者：</span><span>作者名</span>
                        <br>
                        <span>评分：</span>
                        <div class="hot-book-score">8.2</div>
                        <span>内容简介：</span>
                        <div class="hot-book-intro">《旅行者的早餐》是作家米原万里的美食美文随笔集</div>
                        <a href="" target="_blank">详情</a>
                    </div>
                </div> -->
            </div>
        </div>
        <!-- slider end -->
        <div class="new-book-show">
            <h2>新书速递</h2>
            <!-- 书的类别标签 -->
            <div class="book-type-label">
                <ul>
                    <span>热门标签</span>
                    <li>
                        <h4>文学</h4>
                        <span>小说</span>
                        <span>随笔</span>
                        <span>日本文化</span>
                        <span>散文</span>
                        <span>诗歌</span>
                        <span>通话</span>
                        <span>名著</span>
                        <span>港台</span>
                    </li>
                    <li>
                        <h4>流行</h4>
                        <span>漫画</span>
                        <span>绘本</span>
                        <span>推理</span>
                        <span>青春</span>
                        <span>科幻</span>
                        <span>言情</span>
                        <span>武侠</span>
                        <span>奇幻</span>
                    </li>
                    <li>
                        <h4>文化</h4>
                        <span>历史</span>
                        <span>哲学</span>
                        <span>传记</span>
                        <span>设计</span>
                        <span>建造</span>
                        <span>电影</span>
                        <span>回忆录</span>
                        <span>音乐</span>
                    </li>
                    <li>
                        <h4>生活</h4>
                        <span>旅行</span>
                        <span>励志</span>
                        <span>职场</span>
                        <span>美食</span>
                        <span>灵修</span>
                        <span>健康</span>
                        <span>家居</span>
                    </li>
                    <li>
                        <h4>经营</h4>
                        <span>经济学</span>
                        <span>管理</span>
                        <span>金融</span>
                        <span>营销</span>
                        <span>商业</span>
                        <span>理财</span>
                        <span>股票</span>
                        <span>企业史</span>
                    </li>
                    <li>
                        <h4>科技</h4>
                        <span>科普</span>
                        <span>互联网</span>
                        <span>编程</span>
                        <span>交互设计</span>
                        <span>算法</span>
                        <span>通信</span>
                        <span>神经网络</span>
                    </li>
                </ul>
            </div>
            <!-- end 书的类别标签 -->
            <!-- 左边推荐新书 -->
            <ul class="new-books">
                <div class="line-ul"></div>
            </ul>
            <!-- end 左边推荐新书 -->
        </div>
        <!-- 热门图书 -->
        <div class="popular-books">
            <h2>最受关注图书</h2>
            <div class="line-popular-book"></div>
            <ul class="popular-books-table">
            </ul>
        </div>
        <!-- end 热门图书 -->
        <!-- 个人推荐及信息 -->
        <div class="person-recommend">
            <!-- 私人推荐 -->
            <div class="person-book">
                <h2>个人推荐</h2>
                <div class="line-recommend-book"></div>
                <ul class="person-recommend-book">
                </ul>
            </div>
            <!-- end 私人推荐 -->
            <!-- 个人信息 -->
            <div class="person-data" id="personPieChart">
            </div>
            <!-- end 个人信息 -->
            <div class="person-chart"></div>
        </div>
        <!-- end 个人推荐及信息 -->
    </div>
    <!-- main container end -->
    <div class="footer">
        <div class="container">
            <div class="left-box">
                <div class="footer-logo">
                    <div class="logo"></div>
                    <a>
                        <font>QG</font> Library</a>
                </div>
                <div class="site-info">
                    <p>为了⽅便⼯作室成员搜索查阅各类书籍，以及预测各位同学的阅读习惯，⼤家决定开发⼀个相关的书籍推荐⽹站。 ⽹站将利⽤爬⾍爬取⾖瓣的书籍数据，同时利⽤各位同学的搜索记录来为同学们推荐相关的书籍。</p>
                </div>
            </div>
            <div class="links">
                <h4>友情链接</h4>
                <a href="https://www.douban.com/" target="_blank">豆瓣</a>
                <a href="https://book.douban.com/" target="_blank">豆瓣读书</a>
                <a href="http://www.iconfont.cn/" target="_blank">阿里巴巴Iconfont</a>
            </div>
            <p class="copy">&copy; 2017 QG studio all rights reserved.</p>
        </div>
    </div>

    <script src="../js/jquery_3.2.1/jquery_3.2.1.min.js"></script>
    <script src="../js/ECharts/echarts.min.js"></script>
    <!--     <script src="../js/new_books_show.js"></script>
    <script src="../js/popular_book.js"></script> -->
    <script src="../js/person_recommend.js"></script>
    <script src="../js/progressBar.js"></script>
    <script>
    $(function() {
        function getHottestBook() {
            var data = {
                books: [{
                    "name": "这个世界不欠你",
                    "author": "author1",
                    "rating": 9,
                    "pictrue": "https://img3.doubanio.com/lpic/s29497411.jpg",
                    "bookInfo": "你怎么看待这个世界，这个世界就怎么回报你——这是每个人都应该读后反省的书",
                    "url": "https://book.douban.com/subject/27091466/?icn=index-editionrecommend",
                }, {
                    "name": "这个世界不欠你",
                    "author": "author1",
                    "rating": 9,
                    "pictrue": "https://img3.doubanio.com/lpic/s29497411.jpg",
                    "url": "https://book.douban.com/subject/27091466/?icn=index-editionrecommend",
                    "bookInfo": "你怎么看待这个世界，这个世界就怎么回报你——这是每个人都应该读后反省的书"
                }, {
                    "name": "这个世界不欠你",
                    "author": "author1",
                    "rating": 9,
                    "pictrue": "https://img3.doubanio.com/lpic/s29497411.jpg",
                    "url": "https://book.douban.com/subject/27091466/?icn=index-editionrecommend",
                    "bookInfo": "你怎么看待这个世界，这个世界就怎么回报你——这是每个人都应该读后反省的书"
                }]
            };
            $.ajax({
                type: "POST",
                url: "http://localhost:8080/IxkimNote/ReadPopularNote",
                dataType: "json",
                data: null,
                success: function(data) {
                    if (data) {
                        for (var i = 0; i < data.books.length; i++) {
                            var slidingBook = '<div class="one-screen">' +
                                '<img src="' + data.books[i].pictrue + '">' +
                                '<div class="hot-book-info">' +
                                '<h1>' + data.books[i].name + '</h1>' +
                                '<span>作者：</span><span>' + data.books[i].author + '</span>' +
                                '<br>' +
                                '<span>评分：</span>' +
                                '<div class="hot-book-score">' + data.books[i].rating + '</div>' +
                                '<span>内容简介：</span>' +
                                '<div class="hot-book-intro">' + data.books[i].bookInfo + '</div>' +
                                '<a href="' + data.books[i].url + '" target="_blank">详情</a>' +
                                '</div>' +
                                '</div>';
                            if (i == 0) {
                                var copyFirstBook = slidingBook;
                            }
                            $('.slide-container').append(slidingBook);
                            $('.slide-container').append(copyFirstBook);
                        }

                    }
                },
                error: function(jqXHR) {
                    alert("发生错误：" + jqXHR.status);
                },
            });
            setInterval(function() {
                if (parseInt($('.slide-container').css('marginLeft')) == -2700) {
                    $('.slide-container').css('marginLeft', '225px');
                }
                $('.slide-container').animate({ marginLeft: '-=975px' }, 3000);
            }, 6000);
        }

    });
    </script>
</body>

</html>